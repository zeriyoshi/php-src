--TEST--
Test Random::nextInt() result XorShift128+ (32-bit)
--SKIPIF--
<?php
if (PHP_INT_SIZE >= 8) {
    echo 'skip this test only available on 32bit enviroment.';
}
?>
--INI--
random.ignore_generated_size_exceeded=1
--FILE--
<?php

const SEED = 12345;

$data = [1349682502, 2037461237, 373945879, 44750090, 1935940315, 735742043, 93019629, 1466689789, 1423653722, 502197902, 460412399, 922348448, 873565626, 139489342, 149227930, 1891076085, 229394502, 1255504052, 1872845800, 2144170108, 1864453191, 720454379, 450499804, 1303829853, 1352374341, 628524765, 721623023, 1435526393, 401905342, 219807123, 28354555, 305427439, 2128930528, 927919172, 118834996, 1926861238, 206257091, 1885169722, 147757932, 1523782473, 19299303, 1620661898, 800997487, 883832846, 108062443, 1064953420, 907984430, 1956899472, 1221868336, 1454807928, 898490527, 1257344739, 1607689731, 814227587, 1878815558, 1310241740, 1790693690, 1996192732, 626471770, 1365221195, 59540294, 106545988, 2035836508, 543177385, 200819823, 676715151, 456979891, 1499012915, 1730006818, 397939547, 1125642388, 2021902389, 393910208, 572899813, 266986984, 1011230820, 1589795176, 1082956695, 2043395554, 187847379, 1156057772, 758487253, 626405718, 429737375, 994670207, 1682757791, 557433865, 1489666276, 868576512, 1149413952, 2032482078, 765685082, 740673853, 1305008162, 1517942381, 522045930, 1088113262, 1834508497, 1225013478, 236929758, 991301230, 726833918, 732727572, 1418296210, 266746438, 1627563451, 1032020068, 1962248028, 1226887363, 527674563, 454131287, 1107351732, 1139552078, 1776148727, 917857149, 767868630, 1946098486, 1030808578, 1558133393, 642988847, 2025887068, 1202682960, 1710072676, 244856979, 1504691016, 857074347, 460321260, 1148438808, 1347550774, 101249884, 2077162612, 1361419276, 1997760750, 159855873, 231725849, 1166501717, 156989547, 390151435, 178398072, 384600556, 1678625854, 928462153, 362200398, 2140861704, 829774976, 1575598789, 1348474917, 1189907696, 709163516, 1928761530, 470725610, 749335811, 1491682862, 887119881, 1534326460, 165694813, 666546613, 1274162092, 1318638737, 53985760, 1380111560, 175440944, 1785363040, 1338976810, 928526647, 152263930, 1506516920, 218555336, 40722171, 2045830825, 1673727835, 1245338230, 862164732, 2012167047, 1578309398, 177550798, 248233468, 214644185, 282497075, 464809110, 537415711, 1924408863, 982622427, 1429563204, 183028435, 1370189782, 1335729368, 121000075, 1823582007, 950675763, 1998837572, 1376340021, 1872322636, 281730652, 149173774, 339298481, 347552970, 861537873, 184202850, 1322671301, 1281690460, 1361356712, 2089176324, 367010071, 893900736, 1343932562, 1526746460, 2144504048, 1580670635, 2042274141, 531270359, 1714688895, 291346735, 1669612651, 846534526, 11854546, 1238955925, 1419425319, 1216894752, 21003472, 589068236, 485938370, 2006184907, 2085539788, 1016547051, 366274733, 73491987, 590683095, 1371346496, 761730785, 586074960, 68351609, 1567351038, 450713539, 87290873, 1246887498, 59759579, 451300781, 1066224192, 813233613, 1952790187, 476313723, 1442194032, 1499472228, 370899064, 496911926, 1419634540, 1242616718, 1774249481, 1329615449, 1386336381, 274340096, 504466789, 117665196, 152033506, 559001760, 1590272045, 113498200, 1373197278, 967968985, 689931910, 1097666144, 639847767, 1253236113, 871577681, 1583303241, 1452457793, 639946114, 1852573616, 57670947, 860328804, 1472385105, 1528553648, 2100880928, 184924997, 1753333376, 796541800, 1370438034, 967463174, 295327597, 666290413, 1038636422, 738715569, 1515082278, 401893629, 1236436229, 2106314431, 2082175520, 533351387, 1166859949, 108038014, 1897329746, 192287421, 219324086, 2023098313, 1647682034, 1780616538, 2117427941, 660400657, 216307887, 317252299, 217730516, 1822558512, 402834402, 2096616772, 773925891, 1369081309, 1823176911, 1169733177, 52007222, 4430116, 807696130, 2057713136, 966681892, 1726784345, 1064353562, 45285903, 789948436, 869400101, 868937894, 338915118, 425609744, 1508258107, 2146838772, 857891611, 1597149334, 577569099, 293795070, 1839143191, 811610234, 1884853812, 1434629539, 1943749563, 1043727841, 977216688, 1048088444, 2022374565, 1752634595, 317413896, 2090660981, 547033326, 754791498, 1326519097, 1044669356, 547042374, 1056626199, 209098801, 1733864465, 875131093, 1150080047, 864043712, 40739817, 1615640456, 979508232, 2060380613, 155731010, 1549870241, 358658324, 581736831, 178950253, 1062755495, 1426837730, 1399724011, 1186598366, 617984179, 144972251, 338030430, 579726922, 711183530, 1952490045, 2066817099, 457769878, 1252077930, 187580692, 253070839, 120157234, 529745058, 1379610391, 1032896380, 719362005, 1720513442, 124212254, 1969350511, 737222986, 2018894483, 362497545, 2099049676, 1909131972, 1155289370, 61180063, 887891858, 2095180477, 1981532921, 1422771317, 1186320535, 1911029659, 322956107, 1813050951, 1683060121, 1972082392, 689339402, 1768641740, 1542069628, 1603998225, 1823175419, 2050041622, 848284884, 1410901178, 1721097938, 619389779, 1327785409, 55288900, 1265016343, 1392500541, 625962482, 1205517923, 603955731, 1216315955, 1029498557, 1158577239, 2027251122, 1771616242, 759730795, 2111568143, 1112431009, 1438606842, 1235386742, 1562774897, 317226972, 1155982434, 1258029607, 1932616754, 1445981500, 1260780929, 1606189713, 1075919686, 1313678376, 672041741, 1642353333, 2121261410, 1282322050, 150443960, 384505621, 1242831968, 81948703, 1245502429, 302262179, 1069009779, 1460572866, 1919954617, 225565850, 466618362, 606253805, 141813669, 238164155, 831581237, 363203846, 1580549988, 1877164893, 1382767661, 1157552498, 1377040490, 817392678, 1905664115, 1274076594, 1195852831, 1689854475, 1721526559, 1265208053, 1314167336, 1491182462, 528475610, 134481837, 2030901943, 968984052, 467914715, 868882509, 1452500366, 1850912628, 118908032, 2058238361, 644820146, 133224220, 798949092, 1836532095, 1854498801, 1116997517, 2031689471, 982822820, 1313832983, 1253419260, 355569720, 981975001, 1737748888, 2053715712, 1640034855, 1689953581, 1028409662, 1767492008, 370133373, 1770016629, 1824789670, 1186422143, 58424003, 568100562, 1627141439, 1257283105, 412577377, 1252711300, 725810768, 667360467, 294408980, 1995610969, 805801548, 695749558, 1889625442, 1349896415, 1493631562, 729790265, 1046837006, 470859179, 1865662344, 389291854, 1438910365, 307559532, 885429628, 170533914, 464985554, 280414803, 1886446813, 182303851, 1154967954, 895899503, 1861305778, 1285644348, 365438352, 1385404739, 1220484757, 1686399523, 1850298416, 582728819, 499982552, 2107114013, 1961004529, 1858065048, 1937334915, 907555009, 1747711832, 1378121920, 641906572, 1309227, 218137964, 1386384841, 562538100, 1411442996, 194175416, 1467413102, 227548643, 1519169996, 1171115272, 923143666, 1900503163, 518854434, 136505431, 320456571, 149028309, 790180243, 1699714463, 1052347131, 2002033400, 1726553092, 1818475203, 553804998, 1669874249, 315845465, 119118882, 711459994, 597299061, 1698182666, 1305041534, 142578045, 1851652602, 489547536, 1362204218, 1095093138, 1162138282, 1126120622, 1405707178, 557858536, 821884018, 2141202567, 1658956006, 1686405526, 691154173, 346564298, 263508694, 1067899145, 1940533426, 212369399, 770991770, 1160535771, 352771226, 662247506, 1219095652, 55431646, 2091964740, 1743686910, 437700695, 1258217215, 2089586975, 1416227824, 556787290, 1630274307, 766448700, 2027339755, 522016275, 1444124531, 774693450, 269433345, 1827800225, 1033739916, 662568600, 1493272757, 431177711, 1409430064, 1855900384, 1946645313, 1607316817, 822557192, 990038940, 2072180193, 238723231, 1164780106, 882192368, 486727594, 1410387521, 1578980430, 218294240, 1823161904, 1976945957, 721792341, 1239371504, 1564547465, 73009331, 1832302237, 370619154, 1338048121, 2140756492, 119420571, 1602694284, 17968547, 394254946, 816048090, 1840351020, 1525210066, 862797919, 603980768, 1704084601, 150799721, 568165108, 1626775664, 357597789, 1694957546, 210053987, 731866758, 1556485118, 747180784, 1432728644, 421809179, 1784292342, 967406764, 1054670363, 166387124, 552559492, 325031439, 420630319, 460145521, 364851539, 292153910, 860779220, 887097679, 973139335, 800424739, 1008609442, 1194932386, 1286438298, 154048207, 1872289159, 2011948053, 1249137369, 168391850, 1201420754, 1756609837, 167807088, 936287075, 307106424, 467084202, 246826733, 977333363, 1016411415, 321068680, 210750101, 2134002548, 674459800, 460853557, 1414693125, 1278387317, 1277691050, 987704383, 1906514190, 1504521139, 1236199367, 487494576, 2094311668, 784397602, 618095115, 1093882767, 1432355921, 1241195151, 1721272133, 1410040136, 1217654854, 832301322, 1892860148, 1733195675, 855599393, 723586039, 485943865, 982016063, 2122422938, 711086996, 390533590, 564354372, 2030541430, 408769972, 1039759054, 101406381, 240672601, 1913885042, 420234709, 1638165908, 90215095, 1431419796, 42000709, 100071503, 882980765, 1797122366, 904504375, 663002819, 835813658, 953262159, 1864662799, 947721009, 372773118, 466139801, 729667839, 811375371, 2102400904, 827586405, 620654951, 1264108501, 2057677059, 1579361768, 83182000, 1809987362, 144118324, 806357999, 1006040486, 1928991891, 532429019, 678645528, 317543446, 353233153, 563876761, 1244781985, 1050110040, 1148022165, 1297168089, 465116364, 95655662, 2114470143, 1445629333, 987629236, 1009053565, 157080941, 1729660507, 1537856571, 346094015, 1070316332, 280211436, 113139896, 1755416975, 1562690019, 411279151, 780393226, 1863424738, 2028623631, 180245248, 1519975972, 433968591, 1522370361, 1072766235, 1856028598, 675519719, 1305432982, 603576792, 1016238860, 1505359743, 1893531686, 2084084003, 1461898463, 437160906, 137780557, 2033778757, 1017429675, 1437843420, 731942285, 1899218357, 1449371449, 1389738284, 1920521078, 24089631, 570905115, 1505148551, 1772002662, 126300577, 1518053444, 2025713559, 1801525056, 905932446, 1918825555, 1188695816, 640254049, 1872761135, 1098659478, 1086939672, 1180851818, 2065843915, 348300832, 2057822649, 854713329, 1508858718, 125705502, 1125340519, 1082447091, 834814040, 64645087, 1279264088, 1657135580, 1268279155, 380695444, 1121390162, 1985762087, 1281949838, 635530873, 1413428474, 1900667995, 1152357472, 215724983, 957827456, 587561335, 34880762, 467663223, 1646935425, 49072574, 89464159, 1006786236, 1102515725, 280447544, 332734514, 852003278, 476255128, 1682542261, 1778648146, 129794495, 2015791517, 535201245, 924524250, 1316084820, 946872889, 1080923065, 713226697, 1684751638, 46700267, 186119421, 1350441122, 1890883596, 56105439, 1231537555, 1566756009, 1220439163, 1088126234, 488448872, 2134839416, 1968631520, 1893885873, 296514507, 1869816965, 1642656100, 52255521, 1960509278, 696181825, 617710744, 1610702431, 1931274498, 1293539108, 1154784580, 1019984228, 871534774, 1175543804, 1395930730, 630063042, 228974016, 1988079375, 463309620, 1431833465, 1928175220, 1756580353, 817417518, 1547255861, 1358486291, 1307537767, 1098390415, 758475648, 2065528313, 113508798, 2085342662, 1989125191, 54928278, 1922285522, 963466727, 2054929297, 152202861, 1200041146, 1388458844, 617594305, 926707155, 2016750893, 1148235120, 1344997085, 1559634028, 25457468, 835499343, 172745143, 1641026504, 1136801806, 591248427, 33097530, 798815637, 1612009106, 509622931, 1202848691, 145973872, 801603533, 311928117, 1943150090, 1107330499, 1386493680, 1606163304, 145315043, 1903127277, 1230522895, 416625176, 97830298, 1019942542, 957881582, 199517278, 72740614, 18272760, 760052286, 291094570, 1911286480, 1778820125, 671612677, 828399010, 1998974668, 1920269016, 2006102160, 1653660350, 234234283, 1578859339, 1279878591, 1880095534, 1709693199, 930838451, 1503156349, 1075718196, 1156095068, 1257151272, 1663593956, 1845111613, 1069548880, 1306416912, 55076428, 1630631614, 204743002, 1944013283, 610599117, 2028398528, 1271124722];

$random = new Random(RANDOM_XORSHIFT128PLUS, SEED);

foreach ($data as $d) {
    if ($random->nextInt() !== $d) {
        die('failure');
    }
}

die("success");

?>
--EXPECT--
success
